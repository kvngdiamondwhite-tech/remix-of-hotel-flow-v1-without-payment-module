@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 210 20% 98%;
    --foreground: 220 15% 20%;

    --card: 0 0% 100%;
    --card-foreground: 220 15% 20%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 20%;

    --primary: 215 80% 30%;
    --primary-foreground: 0 0% 100%;

    --secondary: 200 20% 90%;
    --secondary-foreground: 220 15% 20%;

    --muted: 210 20% 95%;
    --muted-foreground: 220 10% 45%;

    --accent: 35 85% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;

    --success: 140 60% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 40 90% 55%;
    --warning-foreground: 0 0% 100%;

    --border: 210 20% 88%;
    --input: 210 20% 88%;
    --ring: 215 80% 30%;

    --radius: 0.5rem;

    --sidebar-background: 215 85% 25%;
    --sidebar-foreground: 0 0% 95%;
    --sidebar-primary: 215 85% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 215 85% 30%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 215 85% 20%;
    --sidebar-ring: 35 85% 60%;

    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark {
    --background: 220 20% 10%;
    --foreground: 210 20% 95%;

    --card: 220 20% 12%;
    --card-foreground: 210 20% 95%;

    --popover: 220 20% 12%;
    --popover-foreground: 210 20% 95%;

    --primary: 215 80% 50%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 15% 20%;
    --secondary-foreground: 210 20% 95%;

    --muted: 220 15% 18%;
    --muted-foreground: 220 10% 60%;

    --accent: 35 85% 55%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 65% 45%;
    --destructive-foreground: 0 0% 100%;

    --success: 140 55% 40%;
    --success-foreground: 0 0% 100%;

    --warning: 40 85% 50%;
    --warning-foreground: 0 0% 100%;

    --border: 220 15% 20%;
    --input: 220 15% 20%;
    --ring: 215 80% 50%;

    --sidebar-background: 220 25% 8%;
    --sidebar-foreground: 210 20% 90%;
    --sidebar-primary: 215 80% 45%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 20% 15%;
    --sidebar-accent-foreground: 210 20% 95%;
    --sidebar-border: 220 25% 12%;
    --sidebar-ring: 35 85% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Report totals inline row styles */
.report-totals-container {
  max-width: 600px;
  margin: 0 auto;
}

.report-total-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 1rem;
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius);
  margin-bottom: 0.5rem;
  min-height: 2.5rem;
}

.report-total-row.pos {
  border-color: hsl(var(--primary));
  background-color: hsl(var(--primary) / 0.05);
}

.report-total-row.cash {
  border-color: hsl(var(--success));
  background-color: hsl(var(--success) / 0.05);
}

.report-total-row.transfer {
  border-color: hsl(var(--warning));
  background-color: hsl(var(--warning) / 0.05);
}

.report-total-row.outstanding {
  border-color: hsl(var(--destructive));
  background-color: hsl(var(--destructive) / 0.05);
}

.report-total-row.grand-total {
  border-width: 2px;
  border-color: hsl(var(--foreground));
  background-color: hsl(var(--secondary));
  font-weight: 600;
}

.report-total-label {
  font-size: 0.875rem;
  color: hsl(var(--muted-foreground));
}

.report-total-row.grand-total .report-total-label {
  color: hsl(var(--foreground));
}

.report-total-amount {
  font-size: 1rem;
  font-weight: 600;
  text-align: right;
  word-break: break-word;
}

.report-total-row.pos .report-total-amount {
  color: hsl(var(--primary));
}

.report-total-row.cash .report-total-amount {
  color: hsl(var(--success));
}

.report-total-row.transfer .report-total-amount {
  color: hsl(var(--warning));
}

.report-total-row.outstanding .report-total-amount {
  color: hsl(var(--destructive));
}

.report-total-row.grand-total .report-total-amount {
  color: hsl(var(--foreground));
}

/* Print styles for reports */
@media print {
  /* Force A4 portrait optimization */
  @page {
    size: A4 portrait;
    margin: 1cm;
  }

  /* Completely hide sidebar and navigation */
  aside,
  nav,
  .print\\:hidden,
  [data-sidebar="sidebar"],
  .sidebar,
  header:not(.print-header) {
    display: none !important;
    visibility: hidden !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    position: absolute !important;
    left: -9999px !important;
  }

  /* Reset the main layout to full width */
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    background: white !important;
  }

  /* Override flex layout for print */
  .flex.h-screen {
    display: block !important;
  }

  /* Main content takes full width */
  main,
  .print-content,
  main.flex-1 {
    margin-left: 0 !important;
    padding: 0.5cm !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
  }

  /* Report container */
  .p-8 {
    padding: 0 !important;
  }

  /* Report totals print styles - no stacking */
  .report-totals-container {
    max-width: 100% !important;
    width: 100% !important;
  }

  .report-total-row {
    display: flex !important;
    flex-direction: row !important;
    page-break-inside: avoid;
    break-inside: avoid;
    padding: 0.3rem 0.75rem !important;
    margin-bottom: 0.25rem !important;
  }

  .report-total-label {
    font-size: 0.75rem !important;
  }

  .report-total-amount {
    font-size: 0.875rem !important;
  }

  /* Prevent page breaks inside cards */
  .print\\:break-inside-avoid {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Table styling for print */
  table {
    font-size: 0.7rem !important;
    width: 100% !important;
    table-layout: auto !important;
  }

  th, td {
    padding: 0.2rem 0.4rem !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* Allow text wrapping, prevent clipping */
  .truncate {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
    word-break: break-word !important;
  }

  /* Remove shadows in print */
  .print\\:shadow-none,
  .shadow,
  [class*="shadow"] {
    box-shadow: none !important;
  }

  /* Tabs content visibility for print */
  [role="tabpanel"][data-state="active"] {
    display: block !important;
  }

  /* Card print styling */
  .print\\:border-none {
    border: none !important;
  }

  /* Ensure no horizontal overflow */
  * {
    max-width: 100% !important;
    overflow-x: visible !important;
  }
}
